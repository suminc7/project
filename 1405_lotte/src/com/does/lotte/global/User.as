package com.does.lotte.global {	import com.carlcalderon.arthropod.Debug;	import com.framework.serialization.json.JSON;	import com.greensock.events.LoaderEvent;	import com.greensock.loading.ImageLoader;	import com.greensock.loading.LoaderMax;	import com.greensock.loading.display.ContentDisplay;	import flash.display.Bitmap;	import flash.display.BitmapData;	import flash.display.PixelSnapping;	import flash.external.ExternalInterface;	/**	 * @author chaesumin	 */	public class User {		private static var _id : String = "null";		private static var _type : String;		private static var _image : String;		private static var _level : String;		private static var _name : String;		private static var _choice : String;		private static var _isLogin : Boolean;		private static var _bitmapdata : BitmapData;		private static var _profileImage : ContentDisplay;		private static var _inviteID : String;		private static var _inviteName : String;		public static function setData(callback : Function) : void {			if (ExternalInterface.available) {				var str : String = ExternalInterface.call("GAME.getUser");				if (str) {					var obj : Object = JSON.decode(str);					trace('obj: ' + (obj));					id = obj["id"];					type = obj["type"];					image = obj["image"];					level = obj["level"];					name = obj["name"];					choice = obj["choice"];//					if (id == "null") {//						_isLogin = false;//						callback.call();//					} else {						loadProfile(image, callback);//					}				}			}		}		private static function loadProfile(image : String, callback : Function) : void {//			var imgServer : String = ExternalInterface.call("function(){ return imgServer; }");			//			if (image.indexOf("oh=") > -1) {//				image = imgServer + "/images/join/face50x50.jpg";//			}			image = "/images/join/face50x50.jpg";			var loader : ImageLoader = new ImageLoader(image, {name:"profile", width:200, width:200, onComplete:onImageLoad});			loader.load();			function onImageLoad(event : LoaderEvent) : void {				_profileImage = ContentDisplay(LoaderMax.getContent("profile"));				callback.call();			}		}		public static function getUserProfile() : Bitmap {			if (_profileImage) {				_bitmapdata = new BitmapData(_profileImage.width, _profileImage.height);				_bitmapdata.draw(_profileImage, null, null, null, null, true);				var bitmap : Bitmap = new Bitmap(_bitmapdata, PixelSnapping.AUTO, true);				bitmap.width = 200;				bitmap.height = 200;				return bitmap;			} else {				return null;			}		}		public static function get id() : String {			return _id;		}		public static function set id(id : String) : void {			_id = id;		}		public static function get type() : String {			return _type;		}		public static function set type(type : String) : void {			_type = type;		}		public static function get image() : String {			return _image;		}		public static function set image(image : String) : void {			_image = image;		}		public static function get level() : String {			return _level;		}		public static function set level(level : String) : void {			_level = level;		}		public static function get name() : String {			return _name;		}		public static function set name(name : String) : void {			_name = name;		}		public static function get choice() : String {			return _choice;		}		public static function set choice(choice : String) : void {			_choice = choice;		}		static public function get isLogin() : Boolean {			return _isLogin;		}		public static function get inviteID() : String {			return _inviteID;		}		public static function set inviteID(inviteID : String) : void {			_inviteID = inviteID;		}		public static function get inviteName() : String {			return _inviteName;		}		public static function set inviteName(inviteName : String) : void {			_inviteName = inviteName;		}	}}